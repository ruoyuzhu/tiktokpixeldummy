<!DOCTYPE html>
<html>
  <!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '330602114223085');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=330602114223085&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->

<script>
	!function (w, d, t) {
		w.TiktokAnalyticsObject=t;
		var ttq=w[t]=w[t]||[];
		ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};
		for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);
		ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++
	)ttq.setAndDefer(e,ttq.methods[n]);return e},
		ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};
				       n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
	
		ttq.load('CIEVSPBC77UFB57U7UH0');
		ttq.page();
	}(window, document, 'ttq');
</script>

  
<head>
  <title>My Online Store</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 20px;
    }

    h2 {
      margin-top: 0;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: #ffffff;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    #login-section,
    #shopping-section {
      margin-bottom: 30px;
    }

    form {
      margin-bottom: 20px;
    }

    label {
      display: block;
      margin-bottom: 10px;
    }

    input[type="email"],
    input[type="password"],
    input[type="number"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #cccccc;
      border-radius: 4px;
    }

    input[type="submit"],
    .add-to-cart {
      background-color: #4caf50;
      color: #ffffff;
      border: none;
      padding: 10px 20px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 14px;
      border-radius: 4px;
      cursor: pointer;
    }

    .add-to-cart {
      background-color: #2196f3;
      margin-left: 10px;
    }

    .product {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .product img {
      width: 100px;
      margin-right: 10px;
    }

    .product span {
      font-weight: bold;
    }

    .product input[type="number"] {
      width: 50px;
      padding: 5px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="login-section">
      <h2>Login: Enter Your bytedance email</h2>

      <form method="POST" action="/register">
        <input type="email" name="email" placeholder="Email" required><br>
        <input type="password" name="password" placeholder="Password" required><br>
        <input type="submit" value="Register">
    </form>

    </div>

    <div id="shopping-section">
      <h2>Shopping</h2>
      <div class="product">
        <img src="product1.jpg" alt="Product 1">
        <span>$10</span>
        <input type="number" min="1" max="10" value="1">
        <button id="add-to-cart">Add to Cart
        <script type="text/javascript">
              $('#add-to-cart').click(function() {
                fbq('track', 'Purchase', {currency: "USD", value: 10.00});
              });
        </script>
          </button>
      </div>

      <div class="product">
        
        <img src="product2.jpg" alt="Product 2">
        <span>$15</span>
        <input type="number" min="1" max="10" value="1">
        <button id="add-to-cart">Add to Cart
           <script type="text/javascript">
              $('#add-to-cart').click(function() {
                fbq('track', 'Purchase', {currency: "USD", value: 15.00});
              });
        </script>
        </button>
       
        
      </div>

	<div class="product">
        
        <img src="product2.jpg" alt="Product 2">
        <span>$15</span>
        <input type="number" min="1" max="10" value="1">
        <button id="test_purchase_tiktok">TikTok Test Shopping Event
           <script type="text/javascript">
		   document.getElementByID("test_purchase_tiktok").onclick = function(){
              //$('#test_purchase_tiktok').click(function() {
	      // tiktok advanced maching
	      ttq.identify({
  		"email": "<hashed_email_address>", // string. The email of the customer if available. It must be hashed with SHA-256 on the client side.
  		"phone_number": "<hashed_phone_number>", // string. The phone number of the customer if available. It must be hashed with SHA-256 on the client side.
  		"external_id": "<hashed_extenal_id>", // A unique ID from the advertiser such as user or external cookie IDs. It must be hashed with SHA256 on the client side.
		});
	      // send tiktok complete payment event
                ttq.instance('CIEVSPBC77UFB57U7UH0').track('CompletePayment', {
 		 "contents": [{
    		"content_id": "1234567", // string. ID of the product. Example: "1077218".
    		"content_type": "test_product", // string. Either product or product_group.
    		"content_name": "test_product_name", // string. The name of the page or product. Example: "shirt".
  		}],
  		"value": "15", // number. Value of the order or items sold. Example: 100.
  		"currency": "USD", // string. The 4217 currency code. Example: "USD".
		});
              });
        </script>
        </button>
       
        
      </div>
      <!-- Add more product entries here as needed -->
    </div>
  </div>

  <script>
    // JavaScript code for handling form submission and add
